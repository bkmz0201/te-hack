üé® –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –ö–æ–º–∏–∫—Å–æ–≤



–ü—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∏–∫—Å—ã —Å –ø–æ–º–æ—â—å—é AI –∞–≥–µ–Ω—Ç–æ–≤ –∏ Stable Diffusion.

üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏





ü§ñ AI-–∞–≥–µ–Ω—Ç—ã: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç CrewAI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤



üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Stable Diffusion –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–π



üìö –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–∑ PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤



üé≠ –ü–µ—Ä—Å–æ–Ω–∞–∂–∏: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏—Ö—Å—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π



üìñ HTML –≤—ã–≤–æ–¥: –ö—Ä–∞—Å–∏–≤—ã–π –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–æ–º–∏–∫—Å–æ–≤



‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å: –ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

comic_generator/
‚îú‚îÄ‚îÄ models/              # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ comic_models.py  # ComicPanel, ComicCharacter, ProcessInfo
‚îú‚îÄ‚îÄ services/            # –°–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ llm_service.py   # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM
‚îÇ   ‚îî‚îÄ‚îÄ document_service.py # –†–∞–±–æ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
‚îú‚îÄ‚îÄ generators/          # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ content_analyzer.py # –ê–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ scenario_generator.py # –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
‚îÇ   ‚îú‚îÄ‚îÄ image_generator.py # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ comic_generator.py # –ì–ª–∞–≤–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
‚îú‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ html_generator.py # –°–æ–∑–¥–∞–Ω–∏–µ HTML
‚îÇ   ‚îî‚îÄ‚îÄ data_manager.py  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏
‚îú‚îÄ‚îÄ config/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ settings.py     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞


üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è





Python 3.8+



Ollama —Å –º–æ–¥–µ–ª—å—é llama3.1:

curl -fsSL https://ollama.ai/install.sh | sh
ollama pull llama3.1
ollama serve




Stable Diffusion WebUI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π):

git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui
cd stable-diffusion-webui
./webui.sh --api


–£—Å—Ç–∞–Ω–æ–≤–∫–∞





–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

git clone <repository-url>
cd comic_generator




–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\\Scripts\\activate  # Windows




–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

pip install -r requirements.txt


–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–º–∏–∫—Å–∞ –∏–∑ PDF
python comic_generator/main.py document.pdf

# –° –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
python comic_generator/main.py document.pdf \\
    --panels 10 \\
    --audience "—Å—Ç—É–¥–µ–Ω—Ç—ã" \\
    --style professional \\
    --output my_comic

# –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
python comic_generator/main.py --validate-only


üìñ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏





pdf_file - –ü—É—Ç—å –∫ PDF —Ñ–∞–π–ª—É –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏



--panels, -p - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–Ω–µ–ª–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8)



--audience, -a - –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "–≤–∑—Ä–æ—Å–ª—ã–µ")



--style, -s - –°—Ç–∏–ª—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (educational, professional, friendly, narrative)



--output, -o - –ë–∞–∑–æ–≤–æ–µ –∏–º—è –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "comic")



--validate-only - –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏



--log-level - –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARNING, ERROR)



--config - –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ JSON

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

# LLM –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
export LLM_MODEL_NAME="llama3.1"
export LLM_API_BASE="http://127.0.0.1:11434"
export LLM_TEMPERATURE="0.7"

# Stable Diffusion –Ω–∞—Å—Ç—Ä–æ–π–∫–∏  
export SD_API_BASE="http://127.0.0.1:7860"
export SD_STEPS="50"
export SD_WIDTH="768"
export SD_HEIGHT="512"

# –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
export OUTPUT_DIR="outputs"
export LOG_LEVEL="INFO"


–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª

–°–æ–∑–¥–∞–π—Ç–µ config.json:

{
  "llm": {
    "model_name": "llama3.1",
    "api_base": "http://127.0.0.1:11434",
    "temperature": 0.7,
    "max_tokens": 4000
  },
  "stable_diffusion": {
    "api_base": "http://127.0.0.1:7860",
    "steps": 50,
    "width": 768,
    "height": 512,
    "cfg_scale": 8.0
  },
  "output_dir": "outputs",
  "defaults": {
    "panels_count": 8,
    "target_audience": "–≤–∑—Ä–æ—Å–ª—ã–µ"
  }
}


üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∏–∫—Å–∞ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

python comic_generator/main.py legal_document.pdf \\
    --audience "—Å—Ç—É–¥–µ–Ω—Ç—ã —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–æ–≤" \\
    --panels 12 \\
    --style educational \\
    --output legal_process_comic


–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è –±–∏–∑–Ω–µ—Å–∞

python comic_generator/main.py business_process.pdf \\
    --audience "—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∫–æ–º–ø–∞–Ω–∏–∏" \\
    --style professional \\
    --panels 6 \\
    --output business_comic


–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

python comic_generator/main.py document.pdf \\
    --config my_config.json \\
    --log-level DEBUG


üìä –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:

outputs/
‚îú‚îÄ‚îÄ comic.html              # –û—Å–Ω–æ–≤–Ω–æ–π HTML —Ñ–∞–π–ª –∫–æ–º–∏–∫—Å–∞
‚îú‚îÄ‚îÄ comic_data.json         # –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ comic_summary.json      # –°–≤–æ–¥–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ comic_config.json       # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ comic_images/          # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
    ‚îú‚îÄ‚îÄ panel_1.png
    ‚îú‚îÄ‚îÄ panel_2.png
    ‚îî‚îÄ‚îÄ ...


üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤





ComicGenerator - –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä



ContentAnalyzer - –ê–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é CrewAI



ScenarioGenerator - –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤



ImageGenerator - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Stable Diffusion



HTMLGenerator - –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞



DataManager - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç–∏–ª–µ–π





–û–±–Ω–æ–≤–∏—Ç–µ StyleType –≤ models/comic_models.py



–î–æ–±–∞–≤—å—Ç–µ —Å—Ç–∏–ª—å –≤ style_presets –≤ ImageGenerator



–û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤

from crewai import Agent
from comic_generator.services.llm_service import CustomOllamaLLM

llm = CustomOllamaLLM()
custom_agent = Agent(
    role="–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫",
    goal="–í–∞—à–∞ —Ü–µ–ª—å",
    backstory="–ò—Å—Ç–æ—Ä–∏—è –∞–≥–µ–Ω—Ç–∞",
    llm=llm
)


üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã





LLM –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Ollama
ollama list
ollama serve




Stable Diffusion –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ WebUI –∑–∞–ø—É—â–µ–Ω —Å API
./webui.sh --api --listen




–û—à–∏–±–∫–∏ –ø–∞–º—è—Ç–∏

# –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
export SD_WIDTH="512"
export SD_HEIGHT="384"




–ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

# –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤
export SD_STEPS="20"


–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í–∫–ª—é—á–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

python comic_generator/main.py document.pdf --log-level DEBUG


–õ–æ–≥-—Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ comic_generator.log.

üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å





–ê–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞: ~30-60 —Å–µ–∫—É–Ω–¥



–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è: ~60-120 —Å–µ–∫—É–Ω–¥



–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: ~30-60 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø–∞–Ω–µ–ª—å



–û–±—â–µ–µ –≤—Ä–µ–º—è: 5-15 –º–∏–Ω—É—Ç –Ω–∞ –∫–æ–º–∏–∫—Å –∏–∑ 8 –ø–∞–Ω–µ–ª–µ–π

ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ





–§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π



–°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (git checkout -b feature/amazing-feature)



–°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç (git commit -m 'Add amazing feature')



–ó–∞–ø—É—à—å—Ç–µ –≤–µ—Ç–∫—É (git push origin feature/amazing-feature)



–û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

–ü—Ä–∞–≤–∏–ª–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è





–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ type hints



–î–æ–±–∞–≤–ª—è–π—Ç–µ docstrings –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π



–ü–æ–∫—Ä—ã–≤–∞–π—Ç–µ –∫–æ–¥ —Ç–µ—Å—Ç–∞–º–∏



–°–ª–µ–¥—É–π—Ç–µ PEP 8

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
black comic_generator/

# –õ–∏–Ω—Ç–∏–Ω–≥
flake8 comic_generator/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
mypy comic_generator/

# –¢–µ—Å—Ç—ã
pytest tests/
